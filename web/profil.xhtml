
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p ="http://primefaces.org/ui" 
      xmlns:jsf="http://java.sun.com/jsp/jstl/core">
    
    
    <f:metadata>
        <f:viewParam name="login" value="#{comptesController.login}"/>
    </f:metadata>
    
    <h:head>
        <title>Programme Sportif - Accueil</title>
        <style type="text/css" media="all"> 
       @import "CSS/cssProgrammeSportifUtilisateur.css"; 
        </style> 
    </h:head>
    
    <h:body>
        <div class="wrapper">
            
            <div id="sidebar-wrapper">
                <div id="sidebar-header">
                    <div id="logo-wrapper">
                        <img id="logo" src="rsrc/logo_appli.png" width="76px" height="76px"/>
                        <br />
                        <h1 class="titreAppliUser">Information du profil</h1>
                    </div>
                    <div class="sidebar-nav nano has-scrollbar">
                        <div class="nano-content sidebar-scroll-content" tabindex="0" style="margin-right: -14px;">
                            <h:form id="menuform" title="menuform" styleClass="sidebar-nav-container">
                                <p:growl id="growl" sticky="true" life="2000" showDetail="true"/>
                                  <p:menu style="width:175px" styleClass="myMenu">
                                        <p:menuitem value="Proposer programme" id="addProg" action="index" styleClass="myMenuItem" />
                                </p:menu>
                                <p:panelMenu style="width:175px" styleClass="myMenu">
                                        <p:submenu label="Programmes suivis">
                                            <p:menuitem value="Programme 1" actionListener="home_user" styleClass="myMenuItem"/>
                                            <p:menuitem value="Programme 2" actionListener="home_user" styleClass="myMenuItem"/>
                                            <p:menuitem value="Programme 3" actionListener="home_user" styleClass="myMenuItem"/>
                                        </p:submenu>
                                        <p:submenu label="Programmes en attentes" >
                                            <p:menuitem value="My Programme" styleClass="myMenuItem"/>
                                        </p:submenu>
                                </p:panelMenu>
                                <p:menu style="width:175px" styleClass="myMenu">
                                    <p:menuitem value="Lancer un défi" id="addDefi" action="index" styleClass="myMenuItem" />
                                </p:menu>
                                 <p:panelMenu style="width:175px" styleClass="myMenu">
                                    <p:submenu label="Défis en cours">
                                        <p:menuitem value="25 burpees" actionListener="home_user" styleClass="myMenuItem"/>
                                        <p:menuitem value="30 squats" actionListener="home_user" styleClass="myMenuItem"/>
                                    </p:submenu>
                                    <p:submenu label="Défis gagnés" >
                                        <p:menuitem value="20 crunchs par Sissi02" actionListener="home_user" styleClass="myMenuItem" />
                                    </p:submenu>
                                    <p:submenu label="Défis perdus" >
                                        <p:menuitem value="20 burpees par AllanTheBos" actionListener="home_user" styleClass="myMenuItem"/>
                                    </p:submenu>
                                </p:panelMenu>
                                <p:menu style="width:175px" styleClass="myMenu">
                                    <p:menuitem value="Contacter" id="contact" action="index" styleClass="myMenuItem" />
                                </p:menu>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
            <div id="top-bar-wrapper">
                <div id="top-bar">
                    <div class="top-bar-profile">
                        <div class="profile-name">
                            <span><h:outputText value="#{comptesController.compteConnecte.login}" /></span>
                            <br/>
                            <span><h:outputText value="#{comptesController.compteConnecte.idType.nomType}" /></span>
                        </div>
                        <h:form style="display :inline">
                        <h:commandButton id="profile-image" styleClass="imgButton" image="rsrc/profil.png"/>
                        <p:menu overlay="true" trigger="profile-image" my="left top" at="left bottom" styleClass="profilMenu" >                         
                            
                            <jsf:choose>
                                <jsf:when test="${comptesController.compteConnecte.idNiveau.idNiveau=='1'}">
                                    <p:menuitem value="Accueil" styleClass="profilMenuItem" outcome="home_user?login"/>
                                </jsf:when>    
                                <jsf:otherwise>
                                    <p:menuitem value="Accueil" styleClass="profilMenuItem" outcome="home_admin?login"/>
                                </jsf:otherwise>
                            </jsf:choose>
                            
                            <p:menuitem value="Deconnexion" action="#{comptesController.disconnect()}" styleClass="profilMenuItem"/>
                        </p:menu>
                        </h:form>
                    </div>
                    <div class="top-menu">
                        <div class="top-bar-icon">
                            <h:form>
                            <h:commandButton id="defi_notif" image="rsrc/defi.png" styleClass="iconMenuBar"/>
                                <p:menu overlay="true" trigger="defi_notif" my="left top" at="left bottom" styleClass="profilMenu" >
                                    <p:menuitem value="Profil" outcome="index" styleClass="profilMenuItem"/>
                                    <p:menuitem value="Deconnexion" outcome="index" styleClass="profilMenuItem"/>
                                </p:menu>
                            </h:form>
                        </div>
                        <div class="top-bar-icon">
                            <h:form>
                             <h:commandButton id="prog_notif" image="rsrc/document.png" styleClass="iconMenuBar"/>
                                <p:menu overlay="true" trigger="prog_notif" my="left top" at="left bottom" styleClass="profilMenu" >
                                    <p:menuitem value="Profil" outcome="index" styleClass="profilMenuItem"/>
                                    <p:menuitem value="Deconnexion" outcome="index" styleClass="profilMenuItem"/>
                                </p:menu>
                            </h:form>
                        </div>
                        <div class="top-bar-icon">
                            <h:form>
                            <h:commandButton id="friend_notif" image="rsrc/add_friend_icon.png" styleClass="iconMenuBar"/>
                                <p:menu overlay="true" trigger="friend_notif" my="left top" at="left bottom" styleClass="profilMenu" >
                                    <p:menuitem value="Profil" outcome="index" styleClass="profilMenuItem"/>
                                    <p:menuitem value="Deconnexion" outcome="index" styleClass="profilMenuItem"/>
                                </p:menu>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
                  
        <!--Formulaire -->
            <div class="main-wrapper">
                <f:view>
                    <f:event type="preRenderView" listener="#{comptesController.lireCompte}"/>
                <h:form>
                <!--tableau -->
                <h1> Informations sur le compte Utilisateur </h1>
                <p:dataTable id="TableauCompte" value="#{comptesController.compteConnecte}" var="cp" >
                        <p:column>
                            <f:facet name='header'>
                                <h:outputText value="Login" />
                            </f:facet>
                            <h:outputText value="#{cp.login}" />
                        </p:column>
                         <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Mot de passe" />
                            </f:facet>
                            <p:password value="#{cp.pswd}" />
                        </p:column>
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Nom" />
                            </f:facet>
                            <h:inputText value="#{cp.nom}" />
                        </p:column>
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Prénom" />
                            </f:facet>
                            <h:inputText value="#{cp.prenom}" />
                        </p:column>
                    </p:dataTable>
                <p:commandButton value="Sauvegarder" action="#{comptesController.updateComptes()}" />
                </h:form>
                </f:view>
                 <f:view>
                <f:event type="preRenderView" listener="#{comptesController.lireCompte}"/>
                <h:form>
                <!--tableau -->
                <h1> Informations personnelles </h1>
                <p:dataTable id="TableauCompte" value="#{comptesController.compteConnecte}" var="cp" >
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Age" />
                            </f:facet>
                            <h:outputText value="#{cp.age}">
                              <f:convertDateTime pattern="MM/dd/yyyy" />
                            </h:outputText>
                        </p:column>
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Sexe" />
                            </f:facet>
                            <h:outputText value="#{cp.sexe}" />
                        </p:column>
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Taille" />
                            </f:facet>
                            <h:inputText value="#{cp.taille}" />
                        </p:column>
                        <p:column >
                            <f:facet name='header'>
                                <h:outputText value="Poids" />
                            </f:facet>
                            <h:inputText value="#{cp.poids}" />
                        </p:column> 
                    
                    </p:dataTable>
                <p:commandButton value="Sauvegarder" action="#{comptesController.updateComptes}" />
                </h:form>
                
                </f:view>
            </div>
        
        </div>
    </h:body>
</html>

